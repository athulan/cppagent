<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>glibmm 2.4: Glib::Cond Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<table border="0" width="100%">
<tr>
    <td width="10%" height="40"><img src="../../images/gtkmm_logo.gif" alt="logo" border="0" width="100%" height="100%"/></td>
    <td width="90%" height="40"><img src="../../images/top.gif" alt="top" width="100%" height="40"/></td>
</tr>
</table>
<center>
  <a class="qindex" href="http://www.gtkmm.org/documentation.shtml">Main Page</a> &nbsp;
  <a class="qindex" href="namespaces.html">glibmm Namespaces</a> &nbsp;
  <a href="../../../../gtkmm-2.4/docs/tutorial/html/index.html"> Book</a> &nbsp;
</center>
<hr width="100%"/>

<!-- begin main content -->
<div id="content">
<!-- Generated by Doxygen 1.5.6 -->
  <div class="navpath"><a class="el" href="namespaceGlib.html">Glib</a>::<a class="el" href="classGlib_1_1Cond.html">Cond</a>
  </div>
<div class="contents">
<h1>Glib::Cond Class Reference<br>
<small>
[<a class="el" href="group__Threads.html">Threads</a>]</small>
</h1><!-- doxytag: class="Glib::Cond" -->An opaque data structure to represent a condition.  
<a href="#_details">More...</a>
<p>

<p>
<a href="classGlib_1_1Cond-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlib_1_1Cond.html#2182b1171de3bdd0b97ab2f16d88a17a">Cond</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlib_1_1Cond.html#67919ec3f33e19185f72d9c1a0043605">~Cond</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlib_1_1Cond.html#072cb37a06a695b54370209bc3280f4d">signal</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If threads are waiting for this <em><a class="el" href="classGlib_1_1Cond.html" title="An opaque data structure to represent a condition.">Cond</a></em>, exactly one of them is woken up.  <a href="#072cb37a06a695b54370209bc3280f4d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlib_1_1Cond.html#2ed0ec9fc4e29140f8854a05bfb5df3b">broadcast</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If threads are waiting for this <em><a class="el" href="classGlib_1_1Cond.html" title="An opaque data structure to represent a condition.">Cond</a></em>, all of them are woken up.  <a href="#2ed0ec9fc4e29140f8854a05bfb5df3b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlib_1_1Cond.html#e989bf2891954ff5ed745f447cdccf2a">wait</a> (<a class="el" href="classGlib_1_1Mutex.html">Mutex</a>&amp; mutex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Waits until this thread is woken up on this <em><a class="el" href="classGlib_1_1Cond.html" title="An opaque data structure to represent a condition.">Cond</a></em>.  <a href="#e989bf2891954ff5ed745f447cdccf2a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlib_1_1Cond.html#cb37b09bf04ae36e30ec32c2f3d4af69">timed_wait</a> (<a class="el" href="classGlib_1_1Mutex.html">Mutex</a>&amp; mutex, const <a class="el" href="structGlib_1_1TimeVal.html">Glib::TimeVal</a>&amp; abs_time)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Waits until this thread is woken up on this <em><a class="el" href="classGlib_1_1Cond.html" title="An opaque data structure to represent a condition.">Cond</a></em>, but not longer than until the time, that is specified by <em>abs_time</em>.  <a href="#cb37b09bf04ae36e30ec32c2f3d4af69"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">GCond*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlib_1_1Cond.html#27a794031bc8a6c104db3b9977254c61">gobj</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
An opaque data structure to represent a condition. 
<p>
A <em><a class="el" href="classGlib_1_1Cond.html" title="An opaque data structure to represent a condition.">Cond</a></em> is an object that threads can block on, if they find a certain condition to be false. If other threads change the state of this condition they can signal the <em><a class="el" href="classGlib_1_1Cond.html" title="An opaque data structure to represent a condition.">Cond</a></em>, such that the waiting thread is woken up. <dl class="user" compact><dt><b>Usage example:</b></dt><dd><div class="fragment"><pre class="fragment"> <a class="code" href="classGlib_1_1Cond.html" title="An opaque data structure to represent a condition.">Glib::Cond</a> data_cond;
 <a class="code" href="classGlib_1_1Mutex.html" title="Represents a mutex (mutual exclusion).">Glib::Mutex</a> data_mutex;
 <span class="keywordtype">void</span>* current_data = NULL;
 
 <span class="keywordtype">void</span> push_data (<span class="keywordtype">void</span>* data)
 {
   data_mutex.<a class="code" href="classGlib_1_1Mutex.html#bd565d2c03dbd7526729b8e56ecc675e" title="Locks the mutex.">lock</a>();
   current_data = data;
   data_cond.<a class="code" href="classGlib_1_1Cond.html#072cb37a06a695b54370209bc3280f4d" title="If threads are waiting for this Cond, exactly one of them is woken up.">signal</a>();
   data_mutex.<a class="code" href="classGlib_1_1Mutex.html#254d550a0e2197d46fa7268475f19824" title="Unlocks the mutex.">unlock</a>();
 }
 
 <span class="keywordtype">void</span>* pop_data ()
 {
   <span class="keywordtype">void</span>* data;
 
   data_mutex.<a class="code" href="classGlib_1_1Mutex.html#bd565d2c03dbd7526729b8e56ecc675e" title="Locks the mutex.">lock</a>();
   <span class="keywordflow">while</span> (!current_data)
       data_cond.<a class="code" href="classGlib_1_1Cond.html#e989bf2891954ff5ed745f447cdccf2a" title="Waits until this thread is woken up on this Cond.">wait</a>(data_mutex);
   data = current_data;
   current_data = NULL;
   data_mutex.<a class="code" href="classGlib_1_1Mutex.html#254d550a0e2197d46fa7268475f19824" title="Unlocks the mutex.">unlock</a>();
   <span class="keywordflow">return</span> data;
 }
</pre></div> </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>

<p>
<a class="el" href="thread_2thread_8cc-example.html#_a2">thread/thread.cc</a>.</dl><hr><h2>Constructor&amp; Destructor Documentation</h2>
<a class="anchor" name="2182b1171de3bdd0b97ab2f16d88a17a"></a><!-- doxytag: member="Glib::Cond::Cond" ref="2182b1171de3bdd0b97ab2f16d88a17a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Glib::Cond::Cond           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="67919ec3f33e19185f72d9c1a0043605"></a><!-- doxytag: member="Glib::Cond::~Cond" ref="67919ec3f33e19185f72d9c1a0043605" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Glib::Cond::~Cond           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="072cb37a06a695b54370209bc3280f4d"></a><!-- doxytag: member="Glib::Cond::signal" ref="072cb37a06a695b54370209bc3280f4d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Glib::Cond::signal           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If threads are waiting for this <em><a class="el" href="classGlib_1_1Cond.html" title="An opaque data structure to represent a condition.">Cond</a></em>, exactly one of them is woken up. 
<p>
It is good practice to hold the same lock as the waiting thread, while calling this method, though not required.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This method can also be used if <em><a class="el" href="group__Threads.html#gb26d01c776801f1fff00753e97af4fc7" title="Initializes the GLib thread system.">Glib::thread_init()</a></em> has not yet been called and will do nothing then. </dd></dl>

</div>
</div><p>
<a class="anchor" name="2ed0ec9fc4e29140f8854a05bfb5df3b"></a><!-- doxytag: member="Glib::Cond::broadcast" ref="2ed0ec9fc4e29140f8854a05bfb5df3b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Glib::Cond::broadcast           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If threads are waiting for this <em><a class="el" href="classGlib_1_1Cond.html" title="An opaque data structure to represent a condition.">Cond</a></em>, all of them are woken up. 
<p>
It is good practice to hold the same lock as the waiting thread, while calling this method, though not required.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This method can also be used if <em><a class="el" href="group__Threads.html#gb26d01c776801f1fff00753e97af4fc7" title="Initializes the GLib thread system.">Glib::thread_init()</a></em> has not yet been called and will do nothing then. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e989bf2891954ff5ed745f447cdccf2a"></a><!-- doxytag: member="Glib::Cond::wait" ref="e989bf2891954ff5ed745f447cdccf2a" args="(Mutex &amp;mutex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Glib::Cond::wait           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGlib_1_1Mutex.html">Mutex</a>&amp;&nbsp;</td>
          <td class="paramname"> <em>mutex</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Waits until this thread is woken up on this <em><a class="el" href="classGlib_1_1Cond.html" title="An opaque data structure to represent a condition.">Cond</a></em>. 
<p>
The mutex is unlocked before falling asleep and locked again before resuming.<p>
This method can also be used if <em><a class="el" href="group__Threads.html#gb26d01c776801f1fff00753e97af4fc7" title="Initializes the GLib thread system.">Glib::thread_init()</a></em> has not yet been called and will immediately return then.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mutex</em>&nbsp;</td><td>a <em><a class="el" href="classGlib_1_1Mutex.html" title="Represents a mutex (mutual exclusion).">Mutex</a></em> that is currently locked.</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>It is important to use the <em><a class="el" href="classGlib_1_1Cond.html#e989bf2891954ff5ed745f447cdccf2a" title="Waits until this thread is woken up on this Cond.">wait()</a></em> and <em><a class="el" href="classGlib_1_1Cond.html#cb37b09bf04ae36e30ec32c2f3d4af69" title="Waits until this thread is woken up on this Cond, but not longer than until the time...">timed_wait()</a></em> methods only inside a loop, which checks for the condition to be true as it is not guaranteed that the waiting thread will find it fulfilled, even if the signaling thread left the condition in that state. This is because another thread can have altered the condition, before the waiting thread got the chance to be woken up, even if the condition itself is protected by a <em><a class="el" href="classGlib_1_1Mutex.html" title="Represents a mutex (mutual exclusion).">Mutex</a></em>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="cb37b09bf04ae36e30ec32c2f3d4af69"></a><!-- doxytag: member="Glib::Cond::timed_wait" ref="cb37b09bf04ae36e30ec32c2f3d4af69" args="(Mutex &amp;mutex, const Glib::TimeVal &amp;abs_time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Glib::Cond::timed_wait           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGlib_1_1Mutex.html">Mutex</a>&amp;&nbsp;</td>
          <td class="paramname"> <em>mutex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structGlib_1_1TimeVal.html">Glib::TimeVal</a>&amp;&nbsp;</td>
          <td class="paramname"> <em>abs_time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Waits until this thread is woken up on this <em><a class="el" href="classGlib_1_1Cond.html" title="An opaque data structure to represent a condition.">Cond</a></em>, but not longer than until the time, that is specified by <em>abs_time</em>. 
<p>
The mutex is unlocked before falling asleep and locked again before resuming.<p>
This function can also be used, if <em><a class="el" href="group__Threads.html#gb26d01c776801f1fff00753e97af4fc7" title="Initializes the GLib thread system.">Glib::thread_init()</a></em> has not yet been called and will immediately return <code>true</code> then.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mutex</em>&nbsp;</td><td>a <em><a class="el" href="classGlib_1_1Mutex.html" title="Represents a mutex (mutual exclusion).">Mutex</a></em> that is currently locked. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>abs_time</em>&nbsp;</td><td>a max time to wait.</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>It is important to use the <em><a class="el" href="classGlib_1_1Cond.html#e989bf2891954ff5ed745f447cdccf2a" title="Waits until this thread is woken up on this Cond.">wait()</a></em> and <em><a class="el" href="classGlib_1_1Cond.html#cb37b09bf04ae36e30ec32c2f3d4af69" title="Waits until this thread is woken up on this Cond, but not longer than until the time...">timed_wait()</a></em> methods only inside a loop, which checks for the condition to be true as it is not guaranteed that the waiting thread will find it fulfilled, even if the signaling thread left the condition in that state. This is because another thread can have altered the condition, before the waiting thread got the chance to be woken up, even if the condition itself is protected by a <em><a class="el" href="classGlib_1_1Mutex.html" title="Represents a mutex (mutual exclusion).">Mutex</a></em>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="27a794031bc8a6c104db3b9977254c61"></a><!-- doxytag: member="Glib::Cond::gobj" ref="27a794031bc8a6c104db3b9977254c61" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GCond* Glib::Cond::gobj           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="thread_8h.html">thread.h</a></ul>
</div>
</div> <!-- end main content -->

<hr><address><small>
Generated for glibmm 2.4 by <a href="http://www.doxygen.org/index.html">
Doxygen</a> 1.5.6 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
